class Solution {
public:
    int numOfMinutes(int n, int headID, vector<int>& manager, vector<int>& informTime) {
        vector<vector<int>> m(n,vector<int>());
        for(int i=0;i<n;i++){
            if(manager[i]==-1) continue;
            m[manager[i]].push_back(i);
        }
        int res=0;
        dfs(headID,informTime,m,0,res);
        return res;
    }
    void dfs(int ID,vector<int>& informTime,vector<vector<int>>& m,int time,int& res){
        if(m[ID].empty()){
            res=max(res,time);
            return;
        }
        time+=informTime[ID];
        for(auto& next:m[ID]){
            dfs(next,informTime,m,time,res);
        }
    }
};
